"use strict";function initPage(){mobileMenu(),slider(".portfolio__slider"),slider(".market__slider"),slider(".reviews__slider"),select2(),formEffect(),multiLevel(),validateFields(".contact-form"),validateFields(".modal-form"),header_fixed_class(),$(function(){jcf.replaceAll()})}function select2(){$(".form-select").select2({minimumResultsForSearch:1/0,placeholder:"Оберіть послугу"})}function header_fixed_class(){var t=$(".header"),i=$(".page");0<$(window).scrollTop()?t.addClass("modify"):t.removeClass("modify"),0<$(window).scrollTop()?i.addClass("header_fixed"):i.removeClass("header_fixed"),$(window).scroll(function(e){0<$(window).scrollTop()?t.addClass("modify"):t.removeClass("modify"),0<$(window).scrollTop()?i.addClass("header_fixed"):i.removeClass("header_fixed")})}function formEffect(){$(".form__box .form__control").focusin(function(e){$(this).parent().addClass("input--filled")}),$(".form__box .form__control").focusout(function(e){$(this).val().length<1&&($(this).parent().removeClass("input--filled"),$(".form__box .form__label").addClass("focusout-label"))}),$(".form__box .form__control").on("keyup",function(){$(this).val().length<1?$(this).parent().find(".form__input-clear").removeClass("active"):$(this).parent().find(".form__input-clear").addClass("active")}),$(".form__box .form__control label").click(function(){$(this).parent().addClass("input--filled")}),$(".form__input-clear").click(function(e){e.preventDefault()," "!=$(this).parent().find(".form__input").value&&($(this).parent().find(".form__input").val(""),$(this).removeClass("active"),$(this).parent().parent().removeClass("input--filled"))})}function slider(e){$(e).slick({arrows:!0,dots:!1,infinite:!1,slidesToShow:2,slidesToScroll:1,swipeToSlide:!0,responsive:[{breakpoint:1450,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,dots:!1}},{breakpoint:992,settings:{slidesToShow:2,slidesToScroll:1,arrows:!1,dots:!0}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,dots:!0}}]})}function mobileMenu(){$('<span class="open-menu"><span></span><span></span><span></span><span></span></span>').appendTo(".header .header__wrap"),$('<span class="fader"/>').appendTo(".header .header__wrap"),$("html").on("click",".open-menu",function(){return $("body").toggleClass("menu-opened"),!1}),$(".fader").on("click touchmove",function(e){$("body").removeClass("menu-opened")})}function multiLevel(){function m(e,t){function i(e){if(n.animations){if(e.target!=this)return;this.removeEventListener(r,i)}t&&"function"==typeof t&&t.call()}n.animations?e.addEventListener(r,i):i()}function i(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function e(e,t){this.el=e,this.options=i({},this.options),i(this.options,t),this.menus=[].slice.call(this.el.querySelectorAll(".menu__level")),this.current=0,this._init()}var n,r,t;t=window,n={animations:Modernizr.cssanimations},r={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"}[Modernizr.prefixed("animation")],e.prototype.options={backCtrl:!0,initialBreadcrumb:null,itemsDelayInterval:60,direction:"r2l",onItemClick:function(e,t){return!1}},e.prototype._init=function(){this.menusArr=[];var n=this;this.menus.forEach(function(e,t){var i={menuEl:e,menuItems:[].slice.call(e.querySelectorAll(".menu__item"))};n.menusArr.push(i),t===n.current&&classie.add(e,"menu__level--current")}),n.options.backCtrl&&(this.backCtrl=document.createElement("nav"),this.backCtrl.className="menu__breadcrumbs",this.el.insertBefore(this.backCtrl,this.el.firstChild),this._addBreadcrumb(0)),this._initEvents()},e.prototype._initEvents=function(){for(var s=this,e=0,t=this.menusArr.length;e<t;++e)this.menusArr[e].menuItems.forEach(function(e,r){e.querySelector("a").addEventListener("click",function(e){var t=e.target.getAttribute("data-submenu"),i=e.target.innerHTML,n=s.el.querySelector('ul[data-menu="'+t+'"]');t&&n?(e.preventDefault(),s._openSubMenu(n,r,i)):(s.el.querySelector(".menu__link--current")&&classie.remove(s.el.querySelector(".menu__link--current"),"menu__link--current"),classie.add(e.target,"menu__link--current"),s.options.onItemClick(e,i))})});this.options.backCtrl&&this.backCtrl.addEventListener("click",function(){s._back()})},e.prototype._openSubMenu=function(e,t,i){if(this.isAnimating)return!1;this.isAnimating=!0,this.menusArr[this.menus.indexOf(e)].backIdx=this.current,this.menusArr[this.menus.indexOf(e)].name=i,this._menuOut(t),this._menuIn(e,t)},e.prototype._back=function(){if(this.isAnimating)return!1;this.isAnimating=!0,this._menuOut();var e=this.menusArr[this.menusArr[this.current].backIdx].menuEl;this._menuIn(e),this.options.backCtrl&&this.backCtrl.removeChild(this.backCtrl.lastElementChild)},e.prototype._menuOut=function(i){var n=this,e=this.menusArr[this.current].menuEl,r=void 0===i;this.menusArr[this.current].menuItems.forEach(function(e,t){e.style.WebkitAnimationDelay=e.style.animationDelay=r?parseInt(t*n.options.itemsDelayInterval)+"ms":parseInt(Math.abs(i-t)*n.options.itemsDelayInterval)+"ms"}),"r2l"===this.options.direction?classie.add(e,r?"animate-outToRight":"animate-outToLeft"):classie.add(e,r?"animate-outToLeft":"animate-outToRight")},e.prototype._menuIn=function(i,n){var r=this,s=this.menusArr[this.current].menuEl,a=void 0===n,o=this.menus.indexOf(i),e=this.menusArr[o].menuItems,l=e.length;e.forEach(function(e,t){e.style.WebkitAnimationDelay=e.style.animationDelay=a?parseInt(t*r.options.itemsDelayInterval)+"ms":parseInt(Math.abs(n-t)*r.options.itemsDelayInterval)+"ms",t===(n<=l/2||a?l-1:0)&&m(e,function(){"r2l"===r.options.direction?(classie.remove(s,a?"animate-outToRight":"animate-outToLeft"),classie.remove(i,a?"animate-inFromLeft":"animate-inFromRight")):(classie.remove(s,a?"animate-outToLeft":"animate-outToRight"),classie.remove(i,a?"animate-inFromRight":"animate-inFromLeft")),classie.remove(s,"menu__level--current"),classie.add(i,"menu__level--current"),r.current=o;var e=document.querySelector(".main-nav");a?0===r.current&&r.options.backCtrl&&(classie.add(r.backCtrl,"menu__back--hidden"),e.classList.remove("multi")):(r.options.backCtrl&&(classie.remove(r.backCtrl,"menu__back--hidden"),e.classList.add("multi")),r._addBreadcrumb(o)),r.isAnimating=!1})}),"r2l"===this.options.direction?classie.add(i,a?"animate-inFromLeft":"animate-inFromRight"):classie.add(i,a?"animate-inFromRight":"animate-inFromLeft")},e.prototype._addBreadcrumb=function(i){if(!this.options.backCtrl)return!1;0===i&&this.backCtrl.classList.add("menu__back--hidden");var n=document.createElement("span"),r=(n.className="nav__link",n.innerHTML=i?this.menusArr[i].name:this.options.initialBreadcrumb,this.backCtrl.appendChild(n),this);n.addEventListener("click",function(e){if(e.preventDefault(),!n.nextSibling||r.isAnimating)return!1;r.isAnimating=!0,r._menuOut();var t,e=r.menusArr[i].menuEl;for(r._menuIn(e);t=n.nextSibling;)r.backCtrl.removeChild(t)})},t.MLMenu=e,t=document.getElementById("ml-menu"),new MLMenu(t,{backCtrl:!0})}function validateFields(t){document.querySelector(".contact-form")&&($(t).validate({highlight:function(e){$(e).parent().addClass("form__box_error").removeClass("form__box_valid"),$(t).addClass("novalidate")},unhighlight:function(e){$(e).parent().removeClass("form__box_error").addClass("form__box_valid"),$(t).removeClass("novalidate")},rules:{request:{required:!1,minlength:!1},name:{required:!0,minlength:2},email:{required:!0,email:!0,myEmail:!0}},messages:{request:{required:!1,minlength:!1},name:{required:!1,minlength:!1},email:{required:!1,email:!1,myEmail:!1}}}),$.validator.addMethod("myEmail",function(e,t){return e.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}))}$(document).ready(initPage);