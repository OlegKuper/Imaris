"use strict";function initPage(){mobileMenu(),slider(".portfolio__slider"),slider(".market__slider"),slider(".reviews__slider"),whomSlider(),acordionTabs(),select2(),selectFilter(),formEffect(),multiLevel(),validateFields(".contact-form"),validateFields(".modal-form"),validateFields(".interested-form"),header_fixed_class(),dropServices(),filterMobile(),$(function(){jcf.replaceAll()})}function select2(){$(".form-select").select2({minimumResultsForSearch:1/0,placeholder:"Оберіть послугу"})}function selectFilter(){for(var e=document.querySelectorAll(".jcf-filter"),t=0;t<e.length;t++)e[t].onfocusin=function(){this.parentNode.classList.add("focus")},e[t].onfocusout=function(){this.parentNode.classList.remove("focus")},e[t].onchange=function(){this.parentNode.classList.remove("focus"),this.parentNode.classList.add("selected")}}function filterMobile(){var e=document.querySelector(".filter__tablet-btn"),t=document.querySelector(".btn-back"),n=document.querySelector(".filter__wrap"),i=document.querySelector("body");e&&(e.addEventListener("click",function(){n.classList.add("open"),i.classList.add("overflow")}),t.addEventListener("click",function(){n.classList.remove("open"),i.classList.remove("overflow")}))}function dropServices(){for(var e=document.querySelectorAll(".services__open"),t=0;t<e.length;t++)console.log(e[t]),e[t].addEventListener("click",function(){this.parentNode.classList.toggle("open")})}function header_fixed_class(){var t=$(".header"),n=$(".page");0<$(window).scrollTop()?t.addClass("modify"):t.removeClass("modify"),0<$(window).scrollTop()?n.addClass("header_fixed"):n.removeClass("header_fixed"),$(window).scroll(function(e){0<$(window).scrollTop()?t.addClass("modify"):t.removeClass("modify"),0<$(window).scrollTop()?n.addClass("header_fixed"):n.removeClass("header_fixed")})}function formEffect(){$(".form__box .form__control").focusin(function(e){$(this).parent().addClass("input--filled")}),$(".form__box .form__control").focusout(function(e){$(this).val().length<1&&($(this).parent().removeClass("input--filled"),$(".form__box .form__label").addClass("focusout-label"))}),$(".form__box .form__control").on("keyup",function(){$(this).val().length<1?$(this).parent().find(".form__input-clear").removeClass("active"):$(this).parent().find(".form__input-clear").addClass("active")}),$(".form__box .form__control label").click(function(){$(this).parent().addClass("input--filled")}),$(".form__input-clear").click(function(e){e.preventDefault()," "!=$(this).parent().find(".form__input").value&&($(this).parent().find(".form__input").val(""),$(this).removeClass("active"),$(this).parent().parent().removeClass("input--filled"))})}function slider(e){$(e).slick({arrows:!0,dots:!1,infinite:!1,slidesToShow:2,slidesToScroll:1,swipeToSlide:!0,responsive:[{breakpoint:1450,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,dots:!1}},{breakpoint:992,settings:{slidesToShow:2,slidesToScroll:1,arrows:!1,dots:!0}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,dots:!0}}]})}function whomSlider(e){$(".whom-slider").slick({arrows:!0,dots:!1,infinite:!1,fade:!0,slidesToShow:1,swipeToSlide:!0})}function acordionTabs(){for(var n=document.querySelectorAll(".has-drop"),i=document.querySelector(".services__nav-list"),e=(console.log(n),0);e<n.length;e++)!function(t){i.addEventListener("mouseenter",function(e){n[t].classList.remove("active"),i.addEventListener("mouseleave",function(e){n[0].classList.add("active")})})}(e);var s=function(e){e.forEach(function(e){e.classList.add("closed"),e.classList.remove("opened")})},r=function(e){e.classList.toggle("closed"),e.classList.toggle("opened")};function t(){var o=document.querySelectorAll(".js-accordion");window.innerWidth<=768?o.forEach(function(e){var t,n,i;t=o,n=(e=e).querySelector(".js-accordion-head"),i=e.querySelector(".js-accordion-content"),n.addEventListener("click",function(e){e.preventDefault(),e.stopImmediatePropagation();e=e.currentTarget.closest(".js-accordion");e.classList.contains("closed")&&s(t),r(e)}),setTimeout(function(){i.style.height=i.firstElementChild.offsetHeight+"px"},0),e.classList.remove("opened"),e.classList.add("closed")}):o.forEach(function(e){e.classList.remove("closed"),e.classList.remove("opened"),e.querySelector(".js-accordion-content").style.height=null})}document.addEventListener("DOMContentLoaded",function(){t()});var o=void 0;window.addEventListener("resize",function(e){clearTimeout(o),o=setTimeout(t,400)})}function mobileMenu(){$('<span class="open-menu"><span></span><span></span><span></span><span></span></span>').appendTo(".header .header__wrap"),$('<span class="fader"/>').appendTo(".header .header__wrap"),$("html").on("click",".open-menu",function(){return $("body").toggleClass("menu-opened"),!1}),$(".fader").on("click touchmove",function(e){$("body").removeClass("menu-opened")})}function multiLevel(){function c(e,t){function n(e){if(i.animations){if(e.target!=this)return;this.removeEventListener(o,n)}t&&"function"==typeof t&&t.call()}i.animations?e.addEventListener(o,n):n()}function n(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function e(e,t){this.el=e,this.options=n({},this.options),n(this.options,t),this.menus=[].slice.call(this.el.querySelectorAll(".menu__level")),this.current=0,this._init()}var i,o,t;t=window,i={animations:Modernizr.cssanimations},o={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"}[Modernizr.prefixed("animation")],e.prototype.options={backCtrl:!0,initialBreadcrumb:null,itemsDelayInterval:60,direction:"r2l",onItemClick:function(e,t){return!1}},e.prototype._init=function(){this.menusArr=[];var i=this;this.menus.forEach(function(e,t){var n={menuEl:e,menuItems:[].slice.call(e.querySelectorAll(".menu__item"))};i.menusArr.push(n),t===i.current&&classie.add(e,"menu__level--current")}),i.options.backCtrl&&(this.backCtrl=document.createElement("nav"),this.backCtrl.className="menu__breadcrumbs",this.el.insertBefore(this.backCtrl,this.el.firstChild),this._addBreadcrumb(0)),this._initEvents()},e.prototype._initEvents=function(){for(var s=this,e=0,t=this.menusArr.length;e<t;++e)this.menusArr[e].menuItems.forEach(function(e,o){e.querySelector("a").addEventListener("click",function(e){var t=e.target.getAttribute("data-submenu"),n=e.target.innerHTML,i=s.el.querySelector('ul[data-menu="'+t+'"]');t&&i?(e.preventDefault(),s._openSubMenu(i,o,n)):(s.el.querySelector(".menu__link--current")&&classie.remove(s.el.querySelector(".menu__link--current"),"menu__link--current"),classie.add(e.target,"menu__link--current"),s.options.onItemClick(e,n))})});this.options.backCtrl&&this.backCtrl.addEventListener("click",function(){s._back()})},e.prototype._openSubMenu=function(e,t,n){if(this.isAnimating)return!1;this.isAnimating=!0,this.menusArr[this.menus.indexOf(e)].backIdx=this.current,this.menusArr[this.menus.indexOf(e)].name=n,this._menuOut(t),this._menuIn(e,t)},e.prototype._back=function(){if(this.isAnimating)return!1;this.isAnimating=!0,this._menuOut();var e=this.menusArr[this.menusArr[this.current].backIdx].menuEl;this._menuIn(e),this.options.backCtrl&&this.backCtrl.removeChild(this.backCtrl.lastElementChild)},e.prototype._menuOut=function(n){var i=this,e=this.menusArr[this.current].menuEl,o=void 0===n;this.menusArr[this.current].menuItems.forEach(function(e,t){e.style.WebkitAnimationDelay=e.style.animationDelay=o?parseInt(t*i.options.itemsDelayInterval)+"ms":parseInt(Math.abs(n-t)*i.options.itemsDelayInterval)+"ms"}),"r2l"===this.options.direction?classie.add(e,o?"animate-outToRight":"animate-outToLeft"):classie.add(e,o?"animate-outToLeft":"animate-outToRight")},e.prototype._menuIn=function(n,i){var o=this,s=this.menusArr[this.current].menuEl,r=void 0===i,a=this.menus.indexOf(n),e=this.menusArr[a].menuItems,l=e.length;e.forEach(function(e,t){e.style.WebkitAnimationDelay=e.style.animationDelay=r?parseInt(t*o.options.itemsDelayInterval)+"ms":parseInt(Math.abs(i-t)*o.options.itemsDelayInterval)+"ms",t===(i<=l/2||r?l-1:0)&&c(e,function(){"r2l"===o.options.direction?(classie.remove(s,r?"animate-outToRight":"animate-outToLeft"),classie.remove(n,r?"animate-inFromLeft":"animate-inFromRight")):(classie.remove(s,r?"animate-outToLeft":"animate-outToRight"),classie.remove(n,r?"animate-inFromRight":"animate-inFromLeft")),classie.remove(s,"menu__level--current"),classie.add(n,"menu__level--current"),o.current=a;var e=document.querySelector(".main-nav");r?0===o.current&&o.options.backCtrl&&(classie.add(o.backCtrl,"menu__back--hidden"),e.classList.remove("multi")):(o.options.backCtrl&&(classie.remove(o.backCtrl,"menu__back--hidden"),e.classList.add("multi")),o._addBreadcrumb(a)),o.isAnimating=!1})}),"r2l"===this.options.direction?classie.add(n,r?"animate-inFromLeft":"animate-inFromRight"):classie.add(n,r?"animate-inFromRight":"animate-inFromLeft")},e.prototype._addBreadcrumb=function(n){if(!this.options.backCtrl)return!1;0===n&&this.backCtrl.classList.add("menu__back--hidden");var i=document.createElement("span"),o=(i.className="nav__link",i.innerHTML=n?this.menusArr[n].name:this.options.initialBreadcrumb,this.backCtrl.appendChild(i),this);i.addEventListener("click",function(e){if(e.preventDefault(),!i.nextSibling||o.isAnimating)return!1;o.isAnimating=!0,o._menuOut();var t,e=o.menusArr[n].menuEl;for(o._menuIn(e);t=i.nextSibling;)o.backCtrl.removeChild(t)})},t.MLMenu=e,t=document.getElementById("ml-menu"),new MLMenu(t,{backCtrl:!0})}function validateFields(t){document.querySelector(".contact-form")&&($(t).validate({highlight:function(e){$(e).parent().addClass("form__box_error").removeClass("form__box_valid"),$(t).addClass("novalidate")},unhighlight:function(e){$(e).parent().removeClass("form__box_error").addClass("form__box_valid"),$(t).removeClass("novalidate")},rules:{request:{required:!1,minlength:!1},text:{required:!1,minlength:!1},company:{required:!1,minlength:!1},name:{required:!0,minlength:2},email:{required:!0,email:!0,myEmail:!0}},messages:{request:{required:!1,minlength:!1},name:{required:!1,minlength:!1},email:{required:!1,email:!1,myEmail:!1}}}),$.validator.addMethod("myEmail",function(e,t){return e.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}))}$(document).ready(initPage);